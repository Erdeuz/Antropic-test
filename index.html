<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesti√≥n de Productos Comerciales</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            color: #333;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 5px;
        }

        .tab-button {
            flex: 1;
            padding: 12px 20px;
            border: none;
            background: transparent;
            cursor: pointer;
            border-radius: 10px;
            font-weight: 600;
            transition: all 0.3s ease;
            color: #666;
        }

        .tab-button.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .form-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 2px solid #e9ecef;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #333;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
        }

        .btn-danger:hover {
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.3);
        }

        .btn-edit {
            background: linear-gradient(135deg, #54a0ff, #2e86de);
        }

        .btn-edit:hover {
            box-shadow: 0 8px 25px rgba(84, 160, 255, 0.3);
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }

        .product-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            border: 2px solid #f8f9fa;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
            border-color: #667eea;
        }

        .product-image {
            width: 100%;
            height: 200px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: #dee2e6;
            overflow: hidden;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 10px;
        }

        .product-info h3 {
            color: #333;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .product-info p {
            color: #666;
            margin-bottom: 8px;
        }

        .product-price {
            font-size: 1.5rem;
            font-weight: bold;
            color: #667eea;
            margin: 15px 0;
        }

        .product-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .product-actions .btn {
            flex: 1;
            padding: 10px;
            font-size: 14px;
            justify-content: center;
        }

        .search-bar {
            margin-bottom: 20px;
        }

        .search-bar input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .search-bar input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            border: 2px solid #f8f9fa;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #666;
            font-weight: 600;
        }

        .empty-state {
            text-align: center;
            color: #666;
            padding: 60px 20px;
        }

        .empty-state svg {
            width: 80px;
            height: 80px;
            margin-bottom: 20px;
            opacity: 0.3;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üì¶ Gesti√≥n de Productos</h1>
            <p>Sistema completo para administrar tu cat√°logo de productos comerciales</p>
        </div>

        <div class="tabs">
            <button class="tab-button active" onclick="switchTab('add')">‚ûï Agregar Producto</button>
            <button class="tab-button" onclick="switchTab('list')">üìã Lista de Productos</button>
            <button class="tab-button" onclick="switchTab('stats')">üìä Estad√≠sticas</button>
        </div>

        <!-- Tab: Agregar Producto -->
        <div id="add-tab" class="tab-content active">
            <div class="form-section">
                <h2>‚ûï Agregar Nuevo Producto</h2>
                <form id="product-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="name">Nombre del Producto *</label>
                            <input type="text" id="name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="price">Precio *</label>
                            <input type="number" id="price" name="price" step="0.01" min="0" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="category">Categor√≠a *</label>
                            <select id="category" name="category" required>
                                <option value="">Seleccionar categor√≠a</option>
                                <option value="electronica">Electr√≥nica</option>
                                <option value="ropa">Ropa y Accesorios</option>
                                <option value="hogar">Hogar y Jard√≠n</option>
                                <option value="deportes">Deportes</option>
                                <option value="libros">Libros</option>
                                <option value="juguetes">Juguetes</option>
                                <option value="otros">Otros</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="stock">Stock Disponible *</label>
                            <input type="number" id="stock" name="stock" min="0" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="description">Descripci√≥n</label>
                        <textarea id="description" name="description" rows="4" placeholder="Describe las caracter√≠sticas principales del producto..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="image">URL de Imagen</label>
                        <input type="url" id="image" name="image" placeholder="https://ejemplo.com/imagen.jpg">
                    </div>
                    
                    <button type="submit" class="btn">
                        üíæ Guardar Producto
                    </button>
                </form>
            </div>
        </div>

        <!-- Tab: Lista de Productos -->
        <div id="list-tab" class="tab-content">
            <div class="search-bar">
                <input type="text" id="search-input" placeholder="üîç Buscar productos por nombre, categor√≠a o descripci√≥n...">
            </div>
            
            <div id="products-container" class="products-grid">
                <!-- Los productos se cargar√°n aqu√≠ -->
            </div>
        </div>

        <!-- Tab: Estad√≠sticas -->
        <div id="stats-tab" class="tab-content">
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-number" id="total-products">0</div>
                    <div class="stat-label">Total de Productos</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="total-value">$0</div>
                    <div class="stat-label">Valor Total del Inventario</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="low-stock">0</div>
                    <div class="stat-label">Productos con Poco Stock</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="categories-count">0</div>
                    <div class="stat-label">Categor√≠as Activas</div>
                </div>
            </div>
            
            <div class="form-section">
                <h3>üìä Distribuci√≥n por Categor√≠as</h3>
                <div id="category-distribution"></div>
            </div>
        </div>
    </div>

    <!-- Modal de Edici√≥n (oculto por defecto) -->
    <div id="edit-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1000; justify-content: center; align-items: center;">
        <div style="background: white; border-radius: 20px; padding: 30px; max-width: 600px; width: 90%; max-height: 90%; overflow-y: auto;">
            <h2>‚úèÔ∏è Editar Producto</h2>
            <form id="edit-form">
                <input type="hidden" id="edit-id">
                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-name">Nombre del Producto *</label>
                        <input type="text" id="edit-name" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-price">Precio *</label>
                        <input type="number" id="edit-price" step="0.01" min="0" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-category">Categor√≠a *</label>
                        <select id="edit-category" required>
                            <option value="electronica">Electr√≥nica</option>
                            <option value="ropa">Ropa y Accesorios</option>
                            <option value="hogar">Hogar y Jard√≠n</option>
                            <option value="deportes">Deportes</option>
                            <option value="libros">Libros</option>
                            <option value="juguetes">Juguetes</option>
                            <option value="otros">Otros</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="edit-stock">Stock Disponible *</label>
                        <input type="number" id="edit-stock" min="0" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="edit-description">Descripci√≥n</label>
                    <textarea id="edit-description" rows="4"></textarea>
                </div>
                <div class="form-group">
                    <label for="edit-image">URL de Imagen</label>
                    <input type="url" id="edit-image">
                </div>
                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button type="submit" class="btn">üíæ Actualizar</button>
                    <button type="button" class="btn btn-danger" onclick="closeEditModal()">‚ùå Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Estado global de la aplicaci√≥n
        let products = [];
        let editingProductId = null;

        // Categor√≠as con emojis
        const categoryEmojis = {
            'electronica': 'üì±',
            'ropa': 'üëï',
            'hogar': 'üè†',
            'deportes': '‚öΩ',
            'libros': 'üìö',
            'juguetes': 'üéÆ',
            'otros': 'üì¶'
        };

        // Inicializar la aplicaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            loadProducts();
            setupEventListeners();
            renderProducts();
            updateStats();
        });

        function setupEventListeners() {
            // Formulario de agregar producto
            document.getElementById('product-form').addEventListener('submit', handleProductSubmit);
            
            // Formulario de editar producto
            document.getElementById('edit-form').addEventListener('submit', handleEditSubmit);
            
            // B√∫squeda en tiempo real
            document.getElementById('search-input').addEventListener('input', handleSearch);
        }

        function switchTab(tabName) {
            // Cambiar botones activos
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Cambiar contenido activo
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.getElementById(tabName + '-tab').classList.add('active');
            
            // Actualizar estad√≠sticas si se cambia a esa pesta√±a
            if (tabName === 'stats') {
                updateStats();
            }
        }

        function handleProductSubmit(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const product = {
                id: Date.now().toString(),
                name: formData.get('name'),
                price: parseFloat(formData.get('price')),
                category: formData.get('category'),
                stock: parseInt(formData.get('stock')),
                description: formData.get('description') || '',
                image: formData.get('image') || '',
                createdAt: new Date().toISOString()
            };
            
            products.push(product);
            saveProducts();
            renderProducts();
            updateStats();
            
            // Limpiar formulario y mostrar mensaje
            e.target.reset();
            showNotification('‚úÖ Producto agregado exitosamente', 'success');
        }

        function handleEditSubmit(e) {
            e.preventDefault();
            
            const productId = document.getElementById('edit-id').value;
            const productIndex = products.findIndex(p => p.id === productId);
            
            if (productIndex !== -1) {
                products[productIndex] = {
                    ...products[productIndex],
                    name: document.getElementById('edit-name').value,
                    price: parseFloat(document.getElementById('edit-price').value),
                    category: document.getElementById('edit-category').value,
                    stock: parseInt(document.getElementById('edit-stock').value),
                    description: document.getElementById('edit-description').value,
                    image: document.getElementById('edit-image').value
                };
                
                saveProducts();
                renderProducts();
                updateStats();
                closeEditModal();
                showNotification('‚úÖ Producto actualizado exitosamente', 'success');
            }
        }

        function editProduct(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            document.getElementById('edit-id').value = product.id;
            document.getElementById('edit-name').value = product.name;
            document.getElementById('edit-price').value = product.price;
            document.getElementById('edit-category').value = product.category;
            document.getElementById('edit-stock').value = product.stock;
            document.getElementById('edit-description').value = product.description || '';
            document.getElementById('edit-image').value = product.image || '';
            
            document.getElementById('edit-modal').style.display = 'flex';
        }

        function closeEditModal() {
            document.getElementById('edit-modal').style.display = 'none';
        }

        function deleteProduct(productId) {
            if (confirm('¬øEst√°s seguro de que quieres eliminar este producto?')) {
                products = products.filter(p => p.id !== productId);
                saveProducts();
                renderProducts();
                updateStats();
                showNotification('üóëÔ∏è Producto eliminado exitosamente', 'danger');
            }
        }

        function handleSearch(e) {
            const searchTerm = e.target.value.toLowerCase();
            renderProducts(searchTerm);
        }

        function renderProducts(searchTerm = '') {
            const container = document.getElementById('products-container');
            let filteredProducts = products;
            
            if (searchTerm) {
                filteredProducts = products.filter(product => 
                    product.name.toLowerCase().includes(searchTerm) ||
                    product.category.toLowerCase().includes(searchTerm) ||
                    product.description.toLowerCase().includes(searchTerm)
                );
            }
            
            if (filteredProducts.length === 0) {
                container.innerHTML = `
                    <div class="empty-state" style="grid-column: 1/-1;">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19 7H16V6A4 4 0 0 0 8 6V7H5A1 1 0 0 0 4 8V19A3 3 0 0 0 7 22H17A3 3 0 0 0 20 19V8A1 1 0 0 0 19 7ZM10 6A2 2 0 0 1 14 6V7H10V6ZM18 19A1 1 0 0 1 17 20H7A1 1 0 0 1 6 19V9H8V10A1 1 0 0 0 10 10A1 1 0 0 0 10 9V9H14V10A1 1 0 0 0 16 10A1 1 0 0 0 16 9V9H18V19Z"/>
                        </svg>
                        <h3>${searchTerm ? 'No se encontraron productos' : 'No hay productos registrados'}</h3>
                        <p>${searchTerm ? 'Intenta con otros t√©rminos de b√∫squeda' : 'Comienza agregando tu primer producto'}</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = filteredProducts.map(product => `
                <div class="product-card">
                    <div class="product-image">
                        ${product.image ? 
                            `<img src="${product.image}" alt="${product.name}" onerror="this.style.display='none'; this.parentElement.innerHTML='${categoryEmojis[product.category] || 'üì¶'}'">` :
                            categoryEmojis[product.category] || 'üì¶'
                        }
                    </div>
                    <div class="product-info">
                        <h3>${product.name}</h3>
                        <p><strong>Categor√≠a:</strong> ${categoryEmojis[product.category]} ${product.category.charAt(0).toUpperCase() + product.category.slice(1)}</p>
                        <p><strong>Stock:</strong> ${product.stock} unidades ${product.stock <= 5 ? '‚ö†Ô∏è' : '‚úÖ'}</p>
                        ${product.description ? `<p><strong>Descripci√≥n:</strong> ${product.description}</p>` : ''}
                        <div class="product-price">$${product.price.toFixed(2)}</div>
                    </div>
                    <div class="product-actions">
                        <button class="btn btn-edit" onclick="editProduct('${product.id}')">
                            ‚úèÔ∏è Editar
                        </button>
                        <button class="btn btn-danger" onclick="deleteProduct('${product.id}')">
                            üóëÔ∏è Eliminar
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function updateStats() {
            const totalProducts = products.length;
            const totalValue = products.reduce((sum, product) => sum + (product.price * product.stock), 0);
            const lowStock = products.filter(product => product.stock <= 5).length;
            const categories = new Set(products.map(product => product.category));
            
            document.getElementById('total-products').textContent = totalProducts;
            document.getElementById('total-value').textContent = `$${totalValue.toFixed(2)}`;
            document.getElementById('low-stock').textContent = lowStock;
            document.getElementById('categories-count').textContent = categories.size;
            
            // Distribuci√≥n por categor√≠as
            renderCategoryDistribution();
        }

        function renderCategoryDistribution() {
            const container = document.getElementById('category-distribution');
            const categoryCount = {};
            
            products.forEach(product => {
                categoryCount[product.category] = (categoryCount[product.category] || 0) + 1;
            });
            
            if (Object.keys(categoryCount).length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666;">No hay datos para mostrar</p>';
                return;
            }
            
            const total = products.length;
            container.innerHTML = Object.entries(categoryCount).map(([category, count]) => {
                const percentage = (count / total * 100).toFixed(1);
                return `
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <span>${categoryEmojis[category]} ${category.charAt(0).toUpperCase() + category.slice(1)}</span>
                            <span><strong>${count} productos (${percentage}%)</strong></span>
                        </div>
                        <div style="width: 100%; height: 10px; background: #e9ecef; border-radius: 5px; overflow: hidden;">
                            <div style="width: ${percentage}%; height: 100%; background: linear-gradient(135deg, #667eea, #764ba2); transition: width 0.5s ease;"></div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function saveProducts() {
            // Como no podemos usar localStorage, mantenemos los productos en memoria
            // En una aplicaci√≥n real, esto se enviar√≠a a un servidor
            console.log('Productos guardados:', products);
        }

        function loadProducts() {
            // En una aplicaci√≥n real, esto cargar√≠a los productos desde un servidor
            // Para demostraci√≥n, agregamos algunos productos de ejemplo
            if (products.length === 0) {
                products = [
                    {
                        id: '1',
                        name: 'Laptop Gaming',
                        price: 1299.99,
                        category: 'electronica',
                        stock: 15,
                        description: 'Laptop para gaming con RTX 4060 y procesador Intel i7',
                        image: '',
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: '2',
                        name: 'Camiseta Deportiva',
                        price: 29.99,
                        category: 'ropa',
                        stock: 3,
                        description: 'Camiseta deportiva de alta calidad, transpirable',
                        image: '',
                        createdAt: new Date().toISOString()
                    }
                ];
            }
        }

        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#4CAF50' : '#f44336'};
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                z-index: 1001;
                font-weight: 600;
                transform: translateX(400px);
                transition: transform 0.3s ease;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            setTimeout(() => {
                notification.style.transform = 'translateX(400px)';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Cerrar modal al hacer clic fuera
        document.getElementById('edit-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeEditModal();
            }
        });
    </script>
</body>
</html>
